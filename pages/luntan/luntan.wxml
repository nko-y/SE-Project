<!--pages/luntan/luntan.wxml-->
<!--顶层搜索栏模块 -->
<view class="searchTab"> 
  <view class="pic" bindtap="turnToPersonInfo">
    <open-data type="userAvatarUrl" wx:if="{{isRegister}}"></open-data>
    <image wx:else src="../../images/luntan/unreg.png" class="unreg"></image>
  </view>
  <view class="search">
     <image src="../../images/luntan/search.svg"></image>
     <input type='text' placeholder='输入想要查找的内容' confirm-type='search' value="{{inputValue}}" bindinput='inputBind' bindconfirm='clickSearch' bindinput=""></input>
  </view>
  <view class="pic" bindtap="turnToemail">
    <image wx:if="{{!isRegister}}" class='emailIcon'  src='../../images/luntan/email.svg'></image>
    <image wx:elif="{{!message}}" class='emailIcon'  src='../../images/luntan/email.svg'></image>
    <image wx:else class='emailIcon'  src='../../images/luntan/infoemail.svg' ></image>
  </view>
</view>
<!-- 各个科室版面 -->
<view class="chooseView">
  <scroll-view class="scroll-view_H" scroll-x="true">
      <view class="itemType" wx:for="{{typeList}}" wx:for-item="item" wx:for-index="index" wx:key="index">
        <view class="inView" bindtap="changeTab" data-index="{{index}}">
          <view class="tT" wx:if="{{item.isSelect}}" style="color:#1296db">{{item.name}}</view>
          <view class="tT" wx:else>{{item.name}}</view>

          <view class="downBar" wx:if="{{item.isSelect}}">
            <image src="../../images/luntan/line.png" class="barImg"></image>
          </view>
          <view class="downBar" wx:else>
            <image src="../../images/luntan/lineW.png" class="barImg"></image>
          </view>
          
        </view>
      </view>
  </scroll-view>
</view>
<!--中间的各个帖子 -->
<view class="allPost">
  <view wx:for="{{allPosts}}" wx:for-item="item" wx:for-index="index" wx:key="index">
    <onePost item="{{item}}"/>
  </view>
</view>

<!-- 右下角的新建帖子按钮 fixedButton类用于wxss中设置样式-->
<!-- 除 bind 外，也可以用 catch 来绑定事件。与 bind 不同， catch 会阻止事件向上冒泡(不会传递给父节点)。 -->
<image src="../../images/luntan/create.svg" class="fixedButton" catchtap="createNewPost" ></image>

